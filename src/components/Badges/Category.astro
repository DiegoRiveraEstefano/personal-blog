---

import { getCollection } from 'astro:content';

const tags = await getCollection('tags');

interface Props {
    category: string;
    text?: string;
}

const { category, text } = Astro.props;

const tagData = tags.find(tag => 
    tag.data.slug.toLowerCase() === category.toLowerCase() || 
    tag.data.name.toLowerCase() === category.toLowerCase()
);
const color = tagData?.data.color || "#6366f1"; // Default to primary-500 if not found
---

<span 
    class="px-3 py-1 text-xs font-medium rounded-full border transition-all duration-200 cursor-pointer hover:brightness-95"
    style={`background-color: ${color}15; color: ${color}; border-color: ${color}30;`}
>
    {text || (tagData ? tagData.data.name : category)}
</span>